<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script>
    <style>
        textarea {
            width: 100%;
            border: none;
        }
    </style>
</head>

<body>
    <h3>Edit Me</h3>
    <textarea type="text" id="old" class="compare" rows="20"></textarea>
    <br>
    <input type="button" id="compare" value="Check Ans" /><br><br>
    <br>
    <span id="display"></span>
</body>
<script>
    var ques = `
        Sheikh Sa’adi	: You've made lots of food.
Nobleman	: I’m really ashamed sir.
Sheikh Sa’adi	: But why?
Nonleman	: I haven’t made enough food befitting for a man like you!
Sheikh Sa’adi	: Oh, no. You’ve arranged too much. It’ll satisfy a hundred people!
Nobleman	: Why are you putting up the food in your pocket, sir?
Sheikh Sa’adi	: I’m doing the right thing. My dress deserves them.
Nobleman	: I don’t understand what you mean to say.
Sheikh Sa’adi	: I came to your house a few days ago. But, you don’t take notice of me
  only because I was in simple dress. Now, this rich dress has drawn your                 attention. So, the dress deserves the food, doesn’t it?
Nobleman	: I’m really sorry, sir. Please forgive me.
        `;
    var correctAns = `
        Sheikh Sa’adi	: You've made lots of food.
Nobleman	: I’m really ashamed, sir.
Sheikh Sa’adi	: But why?
Nonleman	: I haven’t made enough food befitting for a man like you!
Sheikh Sa’adi	: Oh, no. You’ve arranged too much. It’ll satisfy a hundred people!
Nobleman	: Why are you putting up the food in your pocket, sir?
Sheikh Sa’adi	: I’m doing the right thing. My dress deserves them.
Nobleman	: I don’t understand what you mean to say.
Sheikh Sa’adi	: I came to your house a few days ago. But, you don’t take notice of me
  only because I was in simple dress. Now, this rich dress has drawn your                 attention. So, the dress deserves the food, doesn’t it?
Nobleman	: I’m really sorry, sir. Please forgive me.
        `;

    var ans = correctAns.toLowerCase().trim();
    // document.getElementById('new').value = correctAns;
    document.getElementById('old').value = ques;
    $(function() {
        $('#compare').click(function() {
            var oldName = $('.compare:eq(0)').val().toLowerCase().trim();
            var newName = ans;
            var count = levDist(oldName, newName);


            if (count >= 1) {
                $('#display').html('<h3 style="color:red">There are ' + count + ' punctuation error</h3>still missing ' + getDifference(oldName, newName) + '<br><br>' + '<b>Correct Ans</b><br><textarea rows="20">' + correctAns + '</textarea>');
            } else {
                $('#display').html('All Correct!');
            }
        });
    });

    function getDifference(a, b) {
        var i = 0;
        var j = 0;
        var result = "";

        while (j < b.length) {
            if (a[i] != b[j] || i == a.length)
                result += b[j];
            else
                i++;
            j++;
        }

        return result;
    }

    function levDist(s, t) {
        var d = [];
        var n = s.length;
        var m = t.length;
        if (n == 0) return m;
        if (m == 0) return n;
        for (var i = n; i >= 0; i--) d[i] = [];
        for (var i = n; i >= 0; i--) d[i][0] = i;
        for (var j = m; j >= 0; j--) d[0][j] = j;
        for (var i = 1; i <= n; i++) {
            var s_i = s.charAt(i - 1);
            for (var j = 1; j <= m; j++) {
                if (i == j && d[i][j] > 4) return n;
                var t_j = t.charAt(j - 1);
                var cost = (s_i == t_j) ? 0 : 1;
                var mi = d[i - 1][j] + 1;
                var b = d[i][j - 1] + 1;
                var c = d[i - 1][j - 1] + cost;
                if (b < mi) mi = b;
                if (c < mi) mi = c;
                d[i][j] = mi;
                if (i > 1 && j > 1 && s_i == t.charAt(j - 2) && s.charAt(i - 2) == t_j) {
                    d[i][j] = Math.min(d[i][j], d[i - 2][j - 2] + cost);
                }
            }
        }
        return d[n][m];
    }
</script>

</html>